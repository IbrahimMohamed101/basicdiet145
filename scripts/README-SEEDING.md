# ุฏููู ูุธุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
# Demo Data Seeding Guide

> [!IMPORTANT]
> ูุฐุง ุงูุณูุฑูุจุช **ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ ููุท**. ูุง ุชุณุชุฎุฏูู ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ!

---

## ูุธุฑุฉ ุนุงูุฉ

ุณูุฑูุจุช ุดุงูู ูุชูููุฏ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูุงูุนูุฉ ููุดุฑูุน BasicDiet145. ูุดูู ุฌููุน ุงูู Models ูุน ุนูุงูุงุช ุตุญูุญุฉ ูููุทููุฉ.

### ุงูุจูุงูุงุช ุงููููุดุฃุฉ

| ุงูููุน | ุงูุนุฏุฏ ุงูุงูุชุฑุงุถู | ุงููุตู |
|-------|-----------------|-------|
| ๐ฅ ููููุงุช ุงูุณูุทุฉ | 20 | ููููุงุช ูุชููุนุฉ ุจุฃุณุนุงุฑ ูุณุนุฑุงุช ุญุฑุงุฑูุฉ |
| ๐ฝ๏ธ ุงููุฌุจุงุช ุงูุนุงุฏูุฉ | 24 | ุฏุฌุงุฌุ ูุญูุ ููุฑููุฉุ ุฅูุฎ |
| โญ ุงููุฌุจุงุช ุงููููุฒุฉ | 15 | **ุณููููุ ุณุชููุ ุฌูุจุฑู** |
| โ ุงูุฅุถุงูุงุช | 10 | ููุงุดุชุฑุงู ูููุฑุฉ ูุงุญุฏุฉ |
| ๐ ุงูุฎุทุท | 7 | ุฎุทุท ูุชููุนุฉ (5-30 ููู) |
| ๐ฅ ุงููุณุชุฎุฏููู | 50 | ุนููุงุก ุจุฃุณูุงุก ุนุฑุจูุฉ ูุฃุฑูุงู ุณุนูุฏูุฉ |
| ๐จโ๐ผ ูุณุชุฎุฏูู ุงูุฏุงุดุจูุฑุฏ | 5 | Admin, Kitchen, Courier |
| ๐ ุงูุงุดุชุฑุงูุงุช | 80 | ุจุญุงูุงุช ูุฎุชููุฉ |
| ๐ ุฃูุงู ุงูุงุดุชุฑุงู | 500+ | ููุฒุนุฉ ุนูู ุงูุงุดุชุฑุงูุงุช ุงููุดุทุฉ |
| ๐ ุงูุทูุจุงุช | 50 | ุทูุจุงุช ููุฑุฉ ูุงุญุฏุฉ |
| ๐ณ ุงููุฏููุนุงุช | 150+ | ุณุฌูุงุช ุฏูุน ููุงุดุชุฑุงูุงุช ูุงูุทูุจุงุช |
| ๐ ุณุฌูุงุช ุงููุดุงุท | 150 | Activity Logs |

---

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js 20+
- MongoDB ููุฏ ุงูุชุดุบูู
- Docker (ุงุฎุชูุงุฑู)

### ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ

```bash
# ุชุดุบูู ุงูุณูุฑูุจุช ุจุฏูู ูุณุญ ุงูุจูุงูุงุช ุงููุฏููุฉ
npm run seed

# ูุณุญ ุงูุจูุงูุงุช ุงููุฏููุฉ ุซู ุงูุชูููุฏ
npm run seed:full

# ูุณุญ ุงูุจูุงูุงุช ููุท
npm run seed:clear
```

### ุฎูุงุฑุงุช ูุชูุฏูุฉ

```bash
# ุชุฎุตูุต ุนุฏุฏ ุงููุณุชุฎุฏููู
node scripts/seed-demo-data.js --clear --users=100

# ุชุฎุตูุต ุนุฏุฏ ุงูุงุดุชุฑุงูุงุช
node scripts/seed-demo-data.js --subscriptions=150

# ุชุฎุตูุต ุนุฏุฏ ุงูุทูุจุงุช
node scripts/seed-demo-data.js --orders=80

# ุชุฎุตูุต ุดุงูู
node scripts/seed-demo-data.js --clear --users=100 --subscriptions=150 --orders=80
```

---

## ุงููุฌุจุงุช ุงููููุฒุฉ โญ

ุงูุณูุฑูุจุช ูููุดุฆ 15 ูุฌุจุฉ ูููุฒุฉ ูู ุซูุงุซุฉ ุฃููุงุน:

### ๐ ุงูุณูููู (Salmon)
- ุณูููู ูุดูู ูุน ุงูููููู
- ุณูููู ุจุงููุฑู ูุน ุงูุฎุถุงุฑ
- ุณูููู ุชุฑูุงูู
- ุณูููู ุจุงูุฒุจุฏุฉ ูุงูุซูู
- ููููู ุณูููู ูุน ุงูุฃุฑุฒ

### ๐ฅฉ ุงูุณุชูู (Steak)
- ุณุชูู ูุญู ูุดูู
- ุณุชูู ุจุงููููู
- ุณุชูู ูุน ุงูุจุทุงุทุณ
- ุณุชูู ุจุงูุตูุต
- ุชูุฏุฑูููู ุณุชูู

### ๐ฆ ุงูุฌูุจุฑู (Shrimp)
- ุฌูุจุฑู ูุดูู
- ุฌูุจุฑู ุจุงูุซูู ูุงูุฒุจุฏุฉ
- ุฌูุจุฑู ูููู
- ุฌูุจุฑู ุจุงููุงุฑู
- ุฌูุจุฑู ุณูุงูุจู

---

## ุฎุตุงุฆุต ุงูุจูุงูุงุช

### 1. ูุงูุนูุฉ ุงูุจูุงูุงุช
- โ ุฃุณูุงุก ุนุฑุจูุฉ ุญููููุฉ ูู ุงูููููุฉ
- โ ุฃุฑูุงู ููุงุชู ุณุนูุฏูุฉ (+966)
- โ ุนูุงููู ูู ูุฏู ุณุนูุฏูุฉ (ุงูุฑูุงุถุ ุฌุฏุฉุ ุงูุฏูุงูุ ููุฉุ ุงููุฏููุฉ)
- โ ุชูุงุฑูุฎ ููุทููุฉ (ูุงุถูุ ุญุงุถุฑุ ูุณุชูุจู)

### 2. ุชููุน ุงูุญุงูุงุช
- ุงุดุชุฑุงูุงุช: `pending_payment`, `active`, `expired`
- ุฃูุงู ุงุดุชุฑุงู: `open`, `locked`, `in_preparation`, `out_for_delivery`, `fulfilled`, `skipped`
- ุทูุจุงุช: `created`, `confirmed`, `preparing`, `fulfilled`, `canceled`
- ูุฏููุนุงุช: `initiated`, `paid`, `failed`, `refunded`

### 3. ุงูุนูุงูุงุช ุงูุตุญูุญุฉ
- Foreign Keys ุตุญูุญุฉ ุจูู ุฌููุน ุงูู Collections
- ุงุญุชุฑุงู Business Rules (totalMeals, remainingMeals, etc.)
- Snapshots ุตุญูุญุฉ ููุฃูุงู ุงูููููุฉ

---

## ุงูุชุญูู ูู ุงูุจูุงูุงุช

### 1. ุนุจุฑ MongoDB Shell

```bash
# ุงูุฏุฎูู ุฅูู MongoDB
docker exec -it basicdiet145-mongo-1 mongosh basicdiet145

# ุฃู ุฅุฐุง ูุงู MongoDB ูุญูู
mongosh basicdiet145
```

ุซู:

```javascript
// ุนุฏ ุงูุณุฌูุงุช
db.users.countDocuments()
db.subscriptions.countDocuments()
db.meals.countDocuments({ type: 'premium' })

// ูุญุต ุงูุจูุงูุงุช
db.meals.find({ type: 'premium' }).pretty()
db.subscriptions.findOne({ status: 'active' })
db.subscriptiondays.findOne()

// ูุญุต ุงูุนูุงูุงุช
db.subscriptions.aggregate([
  { $lookup: { from: 'users', localField: 'userId', foreignField: '_id', as: 'user' } },
  { $limit: 1 }
])
```

### 2. ุนุจุฑ ุงูู APIs

```bash
# ุฌูุจ ุงูุงุดุชุฑุงูุงุช (Client Token)
curl -H "Authorization: Bearer dev-client-token" \
     http://localhost:3000/api/subscriptions

# ุฌูุจ ุงูุฎุทุท (Public)
curl http://localhost:3000/api/plans

# ุฌูุจ ุงููุฌุจุงุช (Dashboard Token)
curl -H "Authorization: Bearer dev-dashboard-token" \
     http://localhost:3000/api/admin/meals

# ูุญุต ุงููุฌุจุงุช ุงููููุฒุฉ
curl http://localhost:3000/api/meals?type=premium
```

### 3. ุนุจุฑ Postman

ุงุณุชุฎุฏู ุงูุชูููุงุช ุงูุชุงููุฉ:
- **Client APIs**: `dev-client-token`
- **Dashboard APIs**: `dev-dashboard-token`

---

## ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุจุฏุงูุฉ ุฌุฏูุฏุฉ

```bash
# ูุณุญ ูู ุดูุก ูุฅูุดุงุก ุจูุงูุงุช ุฌุฏูุฏุฉ
npm run seed:full
```

### ุณููุงุฑูู 2: ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุณุชุฎุฏููู

```bash
# ุฅุถุงูุฉ 100 ูุณุชุฎุฏู ุฅุถุงูู ุจุฏูู ูุณุญ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
node scripts/seed-demo-data.js --users=100
```

### ุณููุงุฑูู 3: ุงุฎุชุจุงุฑ ุญูู ุนุงูู

```bash
# ุฅูุดุงุก ุจูุงูุงุช ูุจูุฑุฉ ููุงุฎุชุจุงุฑ
node scripts/seed-demo-data.js --clear \
  --users=200 \
  --subscriptions=300 \
  --orders=150
```

---

## ุงูุจููุฉ ุงูุชูุตูููุฉ

### ุงูุฎุทุท (Plans)

7 ุฎุทุท ูุชููุนุฉ:
- ุฎุทุฉ 5 ุฃูุงู - ูุฌุจุชูู (250 ุฑ.ุณ)
- ุฎุทุฉ 5 ุฃูุงู - 3 ูุฌุจุงุช (350 ุฑ.ุณ)
- ุฎุทุฉ 10 ุฃูุงู - ูุฌุจุชูู (450 ุฑ.ุณ)
- ุฎุทุฉ 10 ุฃูุงู - 3 ูุฌุจุงุช (650 ุฑ.ุณ)
- ุฎุทุฉ 20 ููู - ูุฌุจุชูู (850 ุฑ.ุณ)
- ุฎุทุฉ 20 ููู - 3 ูุฌุจุงุช (1,200 ุฑ.ุณ)
- ุฎุทุฉ ุดูุฑูุฉ - ูุฌุจุชูู (1,200 ุฑ.ุณ)

### ุงูุฅุถุงูุงุช (Addons)

ููุนุงู:
- **ููุงุดุชุฑุงู** (subscription): ุนุตูุฑุ ูููุฉุ ุดูุฑุจุฉุ ูุงุก ุฏูุชููุณ
- **ููุฑุฉ ูุงุญุฏุฉ** (one_time): ุณูุทุฉุ ููุณุฑุงุชุ ุจุฑูุชูู ุจุงุฑุ ููุงููุ ุฒุจุงุฏูุ ุฎุจุฒ

### ูุณุชุฎุฏูู ุงูุฏุงุดุจูุฑุฏ

| ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | ุงูุฏูุฑ |
|-------------------|-------|
| admin@basicdiet.sa | admin |
| kitchen@basicdiet.sa | kitchen |
| kitchen2@basicdiet.sa | kitchen |
| courier@basicdiet.sa | courier |
| courier2@basicdiet.sa | courier |

> [!TIP]
> ุงุณุชุฎุฏู ูุฐู ุงูุญุณุงุจุงุช ูุน ูุธุงู better-auth ููุฏุฎูู ุฅูู ุงูุฏุงุดุจูุฑุฏ

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: Connection refused

```bash
# ุชุฃูุฏ ูู ุชุดุบูู MongoDB
docker-compose up -d mongo

# ุฃู ุชุญูู ูู MONGO_URI ูู .env
```

### ุฎุทุฃ: Duplicate key error

```bash
# ุงูุณุญ ุงูุจูุงูุงุช ุงููุฏููุฉ ุฃููุงู
npm run seed:clear
```

### ุฎุทุฃ: Module not found

```bash
# ุชุฃูุฏ ูู ุชุซุจูุช ุฌููุน Dependencies
npm install
```

---

## โ๏ธ ุชุญุฐูุฑุงุช ูุงูุฉ

> [!CAUTION]
> ุงูุณูุฑูุจุช ูุญุฐู ุฌููุน ุงูุจูุงูุงุช ุนูุฏ ุงุณุชุฎุฏุงู `--clear`!

> [!WARNING]
> **ูุง ุชุณุชุฎุฏู ูุฐุง ุงูุณูุฑูุจุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ!**

> [!NOTE]
> ุงูุจูุงูุงุช ุงููููุดุฃุฉ ูู demo ููุท ููุง ุชูุซู ุจูุงูุงุช ุญููููุฉ

---

## ุงููููุงุช ุฐุงุช ุงูุตูุฉ

- [seed-demo-data.js](file:///d:/basicdiet145/basicdiet145/scripts/seed-demo-data.js) - ุงูุณูุฑูุจุช ุงูุฑุฆูุณู
- [package.json](file:///d:/basicdiet145/basicdiet145/package.json) - npm scripts
- [.env](file:///d:/basicdiet145/basicdiet145/.env) - ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุชุดุบูู ุงูุณูุฑูุจุช:

1. โ ุงุฎุชุจุฑ ุงูู APIs ุจุงุณุชุฎุฏุงู Postman ุฃู curl
2. โ ุงุจุฏุฃ ุชุทููุฑ Frontend ูุน ุจูุงูุงุช ูุงูุนูุฉ
3. โ ุงุฎุชุจุฑ ุณููุงุฑูููุงุช ูุฎุชููุฉ (ุงุดุชุฑุงูุ ุทูุจุ ุฏูุน)
4. โ ุทููุฑ ุงูุฏุงุดุจูุฑุฏ ูุน ุจูุงูุงุช ุงููุทุจุฎ ูุงูุชูุตูู

---

**ูููุดุฃ ุจูุงุณุทุฉ**: BasicDiet145 Team  
**ุงููุณุฎุฉ**: 1.0.0  
**ุงูุชุงุฑูุฎ**: 2026-02-07
